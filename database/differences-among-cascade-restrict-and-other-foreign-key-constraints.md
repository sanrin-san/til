# 外部キー制約の違い

## 比較表

| オプション       | 説明                                                                                   |
|------------------|----------------------------------------------------------------------------------------|
| **CASCADE**      | 親の削除/更新に伴い、子のレコードも削除/更新。                                         |
| **RESTRICT**     | 親に関連する子が存在する場合、削除/更新が制限されエラーになる。                         |
| **NO ACTION**    | トランザクション終了時にチェックを行い、問題があればエラーになる。                       |
| **SET NULL**     | 親の削除/更新に伴い、子の外部キーを`NULL`に設定。                                       |
| **SET DEFAULT**  | 親の削除/更新に伴い、子の外部キーをデフォルト値に置き換え。                             |

## 使い分け

- **CASCADE**: 親と子が密接に関連し、同時に削除または更新する必要がある場合に便利。
- **RESTRICT**や**NO ACTION**: 安全性を重視する場面で有効。
- **SET NULL**: 外部キーに依存するレコードがなくても問題ない場合や、データを残したいが依存は切りたい場合に使いやすい。
- **SET DEFAULT**: 削除後に特定のデフォルト状態に戻したい場合に便利（例: 未設定状態など）。
